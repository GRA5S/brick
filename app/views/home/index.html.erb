<% rows = 12 %>
<% cols = 28 %>
<% mortar = 2 %>
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">

</head>
<style>
  .wavey {
    --mask:
      radial-gradient(125.22px at 50% calc(100% - 168px),#000 99%,#0000 101%) calc(50% - 112px) 0/224px 100%,
      radial-gradient(125.22px at 50% calc(100% + 112px),#0000 99%,#000 101%) 50% calc(100% - 56px)/224px 100% repeat-x;
    -webkit-mask: var(--mask);
    mask: var(--mask);
  }

  .waveysmall {
    --mask:
      radial-gradient(62.61px at 50% calc(100% - 84px),#000 99%,#0000 101%) calc(50% - 56px) 0/112px 100%,
      radial-gradient(62.61px at 50% calc(100% + 56px),#0000 99%,#000 101%) 50% calc(100% - 28px)/112px 100% repeat-x;
    -webkit-mask: var(--mask);
    mask: var(--mask);
  }
  .marqueeitem {
    transition: transform 0.2s ease;
  }
  .marqueeitem:hover {
    transform: scale(1.1);
  }
  .button {
    /* background-color: rgb(133, 77, 51); */
    background-color:#CBAC88;
    outline: rgb(54, 28, 17) solid 4px;
    /* outline:#69995D solid 4px; */
  }
  .button:hover {
    background-color: rgb(220, 180, 140);
  }
  .text {
    /* color: rgb(34, 23, 18);  */
    color:#CBAC88;
    /* font-family: 'Bebas Neue', sans-serif; */
    /* text-shadow: -1px -1px 0 rgb(54, 28, 17), 1px -1px 0 rgb(54, 28, 17), -1px 1px 0 rgb(54, 28, 17), 1px 1px 0 rgb(54, 28, 17); */
  }
  .title {
    /* color: rgba(124, 66, 41, 0.8);  */
    color:#CBAC88;
    font-weight: 900;
    /* font-family: 'Bebas Neue', sans-serif; */
    text-shadow: -4px -4px 0 rgb(54, 28, 17), 4px -4px 0 rgb(54, 28, 17), -4px 4px 0 rgb(54, 28, 17), 4px 4px 0 rgb(54, 28, 17);
    text-decoration: underline;
    font-style: italic;
  }
  .pattern {
    width: 100vw;
    height: 120vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: rgb(87, 46, 27);
    overflow: hidden;
  }

  .row {
    display: flex;
    flex-wrap: nowrap;
    margin-bottom: clamp(20px, 2vw, 2vw);
    align-items: center;
  }

  .row.offset {
    /* padding-left: calc(12vw / 2 + 2vw / 2); */
    padding-left: 200px;

  }

  .brick {
    width: 15vw;
    min-width: 115px;
    height: 10vw;
    min-height: 77px;
    margin-right: clamp(20px, 2vw, 2vw);
    display: inline-block;
    box-sizing: border-box;
    transition: transform 0.2s ease;
  }

  .brick:hover {
    transform: scale(1.025);
  }

   .brick { background: rgb(117, 63, 38); }
   /* { background: rgb(78, 43, 27); } */
</style>

<div class="overflow-hidden flex items-center flex-col h-[350vh] absolute top-0 left-0 w-full" style="background: rgb(87, 46, 27);">
    <div class="wavey pattern absolute top-0 left-0 z-2">
      <% rows.times do |rIndex| %>
          <div class="row <%= 'offset' if rIndex.odd? %>">
              <% cols.times do |cIndex| %>
                  <div class="brick" aria-hidden="true"></div>
              <% end %>
          </div>
      <% end %>
    </div>
    <h1 class="font-bold z-4 -mt-[2vh] mr-[2.5vw] title " style="font-size:268px">BRICK</h1>
    <p class="text-4xl z-4 mt-[0px] font-bold italic text"> Build a game using a framework,</p>
    <p class="text-4xl z-4 font-bold italic text"> get a kit to build something in real life!</p>
    <a href="/games" class="z-4 m-4 px-6 py-3 text-2xl font-bold rounded button">Get Started</a>


    <div class="mt-[30vh] flex-col flex justify-center items-center">
      <h1 class="text-7xl font-bold italic title z-99 ">Here's how it works:</h1>
      <p class="text text-4xl mt-[2vh] font-medium">• Choose a <b class="font-black italic">framework,</b> and build a game in it!</p>
      <p class="text text-4xl mt-[2vh] font-medium">• Publish your game to <b class="font-black italic">itch.io</b> to allow other people to play it!</p>
      <div class="flex flex-row justify-center items-center"><p class="text text-4xl mt-[2vh] font-medium">• Earn up to <b class="font-black italic"> 3 </b></p><img class="w-9 mt-3" src="https://hc-cdn.hel1.your-objectstorage.com/s/v3/3e05df65ea3fc1091c63815f78af477450b3c482_image.png">      <p class="text text-4xl mt-[2vh] ml-2 font-medium">per hour of coding!</p></div>
      <p class="text text-4xl mt-[2vh] font-medium">• Spend your bricks in <b class="font-black italic">the masonry</b> for prizes!</p>
    </div>


    <div class="w-[200vw] overflow-hidden mt-4 flex flex-col">
      <div
        data-controller="marquee"
        data-marquee-hover-speed-value="80"
        data-marquee-speed-value="30"
        class="bg-transparent py-4 w-full absolute overflow-hidden left-0"
        data-action="mouseenter->marquee#pauseAnimation mouseleave->marquee#resumeAnimation"
        style="transform: rotate(-2deg);"
      >
        <div data-marquee-target="track" class="relative flex w-full " >
          <div data-marquee-target="list" class="flex w-full shrink-0 flex-nowrap items-center justify-around gap-8 px-4">
             
            <div data-marquee-target="list" class="flex w-full shrink-0 flex-nowrap items-center justify-around gap-8 px-4">
              <% Product.all.each do |product| %>
                <div class="overflow-hidden w-[207px] h-[45vh] marqueeitem bg-[#2f160e] border border-[#361c11] rounded-xl p-0 flex-shrink-0 flex flex-col items-center justify-center text-center z-[99]">
                  <img src="<%= product.picture %>" alt="<%= product.name %>" class="w-56 h-56 object-cover mb-4" style="transform: rotate(15deg);">
                  <div class="waveysmall bg-[#2f160e] w-full h-[20vh] mt-[-20vh] mb-[-12vh] z-0" style="transform: rotate(180deg);"></div>
                  <h3 class="text-2xl font-bold title mb-2 z-1 px-3 w-full"><%= product.name %></h3>
                  <p class="text-sm text-[#CBAC88] mb-4 z-1 px-2 w-full"><%= product.description %></p>
                </div>
              <% end %>
            </div>
            
            
              
            </div>
        </div>
      </div>
      <div
        data-controller="marquee"
        data-marquee-hover-speed-value="80"
        data-marquee-speed-value="30"
        data-marquee-direction-value="right"
        class="bg-transparent py-4 w-full absolute overflow-hidden left-0 mt-[48vh]"
        data-action="mouseenter->marquee#pauseAnimation mouseleave->marquee#resumeAnimation"
        style="transform: rotate(-2deg);"
      >
        <div data-marquee-target="track" class="relative flex w-full " >
          <div data-marquee-target="list" class="flex w-full shrink-0 flex-nowrap items-center justify-around gap-8 px-4">
             
            <div data-marquee-target="list" class="flex w-full shrink-0 flex-nowrap items-center justify-around gap-8 px-4">
              <% Product.all.each do |product| %>
                <div class="overflow-hidden w-[207px] h-[45vh] marqueeitem bg-[#2f160e] border border-[#361c11] rounded-xl p-0 flex-shrink-0 flex flex-col items-center justify-center text-center z-[99]">
                  <img src="<%= product.picture %>" alt="<%= product.name %>" class="w-56 h-56 object-cover mb-4" style="transform: rotate(15deg);">
                  <div class="waveysmall bg-[#2f160e] w-full h-[20vh] mt-[-20vh] mb-[-12vh] z-0" style="transform: rotate(180deg);"></div>
                  <h3 class="text-2xl font-bold title mb-2 z-1 px-3 w-full"><%= product.name %></h3>
                  <p class="text-sm text-[#CBAC88] mb-4 z-1 px-2 w-full"><%= product.description %></p>
                </div>
              <% end %>
            </div>
            
            
              
            </div>
        </div>
      </div>
    </div>
    
    <div class="h-[120px] justify-start flex-row items-center p-[10px]" style="background: #361c11; position: absolute; bottom: 0; left: 0; width: 100vw; z-index: 10;">
      <div class="z-4 mb-2 text-5xl italic font-black text underline"> 
        BRICK
      </div>
      
      <div class="z-4 text-2xl italic font-semibold text"> 
        Made with ❤️ by Grass
      </div>
      
    </div>


    <div class="mt-[105vh] flex-col justify-center items-center flex gap-5">
      <h1 class="text-7xl font-bold italic title z-99 ">FAQ:</h1>
      <div class="flex flex-row gap-6">
        <% accordion_items1 = [
          { 
            question: "Will there be any guides or workshops?", 
            answer: "Yep! Guides for Love2D and Pygame can be found on this site, and stay tuned for some workshops in the slack!" 
          },
          { 
            question: "Do I have to use a specific library/language?", 
            answer: "Nope! You can use any framework and any librarys that you'd like to make your experience easier, as long as its not a game engine." 
          },
          { 
            question: "Can you add x to the shop?", 
            answer: "Perhaps... DM @grass on slack and I'll think about it :p" 
          },
        ] %>
        <% accordion_items2 = [
          {
            question: "Can I double dip?", 
            answer: "Nope, sorry :p" 
          },
          { 
            question: 'What counts as a "framework"?', 
            answer: "Any way of making a GUI game using only code! That means Pygame, Love2D and Bevy count, but not Godot, Unity or Gamemaker." 
          },
          { 
            question: 'Does my project have to be open source?', 
            answer: "Yep! It needs to be open source & easily playable by anybody." 
          },
        ] %>
        <div class="w-[500px]" data-controller="accordion">
          <% accordion_items1.each_with_index do |item, index| %>
              <div data-accordion-target="item" data-state="closed" class="pb-2" style="border-bottom: 4px solid rgb(54, 28, 17);">
              <h3 data-state="closed" class="flex text-base font-semibold mt-2 mb-0">
                <button
                  type="button"
                  data-accordion-target="trigger"
                  data-action="click->accordion#toggle"
                  aria-controls="accordion-content-<%= index %>"
                  aria-expanded="false"
                  data-state="closed"
                  id="accordion-trigger-<%= index %>"
                  class="text text-xl font-bold flex flex-1 items-center text-left justify-between py-2 transition-all hover:underline [&[data-state=open]>svg]:rotate-180 focus:outline-neutral-700 dark:focus:outline-white focus:outline-offset-2 px-2"
                >
                  <%= item[:question] %>
                  <svg xmlns="http://www.w3.org/2000/svg" data-accordion-target="icon" class="size-4 shrink-0 transition-transform duration-300" width="18" height="18" viewBox="0 0 18 18"><g fill="currentColor"><path d="M8.99999 13.5C8.80799 13.5 8.61599 13.4271 8.46999 13.2801L2.21999 7.03005C1.92699 6.73705 1.92699 6.26202 2.21999 5.96902C2.51299 5.67602 2.98799 5.67602 3.28099 5.96902L9.00099 11.689L14.721 5.96902C15.014 5.67602 15.489 5.67602 15.782 5.96902C16.075 6.26202 16.075 6.73705 15.782 7.03005L9.53199 13.2801C9.38599 13.4261 9.19399 13.5 9.00199 13.5H8.99999Z"></path></g></svg>
                </button>
              </h3>
              <div
                data-accordion-target="content"
                data-state="closed"
                id="accordion-content-<%= index %>"
                role="region"
                aria-labelledby="accordion-trigger-<%= index %>"

                class="text overflow-hidden text-lg font-semibold transition-all duration-300 opacity-0 data-[state=open]:opacity-100 data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"
                hidden
              >
                <div>
                  <p class="my-2 px-2">
                    <%= item[:answer].html_safe %>
                  </p>
                </div>
              </div>
            </div>
          <% end %>
        </div>
        <div class="w-[500px]" data-controller="accordion">
          <% accordion_items2.each_with_index do |item, index| %>
              <div data-accordion-target="item" data-state="closed" class="pb-2" style="border-bottom: 4px solid rgb(54, 28, 17);">
              <h3 data-state="closed" class="flex text-base font-semibold mt-2 mb-0">
                <button
                  type="button"
                  data-accordion-target="trigger"
                  data-action="click->accordion#toggle"
                  aria-controls="accordion-content-<%= index %>"
                  aria-expanded="false"
                  data-state="closed"
                  id="accordion-trigger-<%= index %>"
                  class="text text-xl font-bold flex flex-1 items-center text-left justify-between py-2 transition-all hover:underline [&[data-state=open]>svg]:rotate-180 focus:outline-neutral-700 dark:focus:outline-white focus:outline-offset-2 px-2"
                >
                  <%= item[:question] %>
                  <svg xmlns="http://www.w3.org/2000/svg" data-accordion-target="icon" class="size-4 shrink-0 transition-transform duration-300" width="18" height="18" viewBox="0 0 18 18"><g fill="currentColor"><path d="M8.99999 13.5C8.80799 13.5 8.61599 13.4271 8.46999 13.2801L2.21999 7.03005C1.92699 6.73705 1.92699 6.26202 2.21999 5.96902C2.51299 5.67602 2.98799 5.67602 3.28099 5.96902L9.00099 11.689L14.721 5.96902C15.014 5.67602 15.489 5.67602 15.782 5.96902C16.075 6.26202 16.075 6.73705 15.782 7.03005L9.53199 13.2801C9.38599 13.4261 9.19399 13.5 9.00199 13.5H8.99999Z"></path></g></svg>
                </button>
              </h3>
              <div
                data-accordion-target="content"
                data-state="closed"
                id="accordion-content-<%= index %>"
                role="region"
                aria-labelledby="accordion-trigger-<%= index %>"

                class="text overflow-hidden text-lg font-semibold transition-all duration-300 opacity-0 data-[state=open]:opacity-100 data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"
                hidden
              >
                <div>
                  <p class="my-2 px-2">
                    <%= item[:answer].html_safe %>
                  </p>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      </div>
      <p class="text text-xl font-semibold">Still confused? ask in #brick on slack and we can help you out!</p>
    </div>
</div>



<%= form_tag "/auth/hackclub", method: :post, data: {turbo: false} do %>
  <button type="submit" class = "button absolute top-5 right-5 z-9 p-2 rounded-xl font-semibold flex flex-row gap-2 justify-center content-center text-xl" >
    <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOCIgaGVpZ2h0PSIyOCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiMzNjFDMTEiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0ibHVjaWRlIGx1Y2lkZS1sb2ctaW4taWNvbiBsdWNpZGUtbG9nLWluIj48cGF0aCBkPSJtMTAgMTcgNS01LTUtNSIvPjxwYXRoIGQ9Ik0xNSAxMkgzIi8+PHBhdGggZD0iTTE1IDNoNGEyIDIgMCAwIDEgMiAydjE0YTIgMiAwIDAgMS0yIDJoLTQiLz48L3N2Zz4=" />
    Sign In
  </button>
<% end %>




